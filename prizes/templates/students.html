{% extends 'base.html' %}

{% block content %}
{{block.super}}

<head>
  <script src="https://cdn.jsdelivr.net/clipboard.js/1.5.3/clipboard.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script>
    function copyToClipboard(element) {
      $(element).select();
      document.execCommand("copy");
    }
  </script>
</head>
<div class="container-fluid">
  <div class="row">
  </div>
</div>
<div class="container-fluid">
  <!--  -->
  <div class="row">
    {% for students in students %}
    <div class="col-lg-4 col-lg-4 col-lg-4 padding-0 hover ">
      <!-- Rotating card -->
      <div class="card-wrapper">
        <div id="card-1" class="card card-rotating text-center">

          <!-- Front Side -->
          <div class="face front">

            <!-- Avatar -->
            <div class="avatar mx-auto white"><img src="{{students.student_image.url}}" class="rounded-circle" alt="Sample avatar image." style="margin-top: 5%; height: 250px; width:300px; padding: 10px;box-shadow: 5px 10px #888888;"
                data-toggle="modal" data-target="#{{student.id}>
            </div>

            <!-- Content -->
            <div class="card-body">
              <h4 class="font-weight-bold mb-3">{{students.full_name}}</h4>
              <p class=" font-weight-bold blue-text">{{students.school_name}}</p>
              <!-- Triggering button -->
              <a class="rotate-btn" data-card="card-1"><i class="fas fa-redo-alt"></i> Click here to rotate</a>
            </div>
          </div>
          <!-- Front Side -->
        </div>
      </div>
      <!-- Rotating card -->
      <!-- <img src="{{students.student_image.url}}" class=" img img-responsive img-thumbnail" style="height: 350px; width:450px; margin-bottom: 10px; padding: 10px;box-shadow: 5px 10px #888888;" data-toggle="modal" data-target="#{{image.id}}"> -->
    </div>
    <div class="modal fade" id="{{image.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header text-center">
            <h3 class="modal-title" id="exampleModalLongTitle">{{image.image_name}}</h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="text-center">
              <img src='{{image.image.url}}' class="img-responsive" width=100% height=100% alt="Image">
            </div>
            <div class="text-center">
              <blockquote class="blockquote text-center">
                <p class="mb-0">{{image.image_description}}</p>
                <footer class="blockquote-footer">Location:{{image.location}} <cite title="Source Title">Posted On: {{image.pub_date}}</cite></footer>
              </blockquote>
            </div>
          </div>
          <div class="modal-footer">
            <div class="form-group row">
              <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10 padding-1">
                <input id="{{image.id}}-url" class="form-control input-md responsive" type="text" value="{{image.image.url}}">
              </div>
              <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 padding-2">
                <button class="btn btn-secondary" onclick="copyToClipboard('#{{image.id}}-url')">Copy</button>
              </div>
            </div>
            <div class="text-center">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% endblock %}